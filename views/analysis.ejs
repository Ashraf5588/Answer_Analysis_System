<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClassPerformance</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/classperformance.css">
    <link rel="stylesheet" href="/nav.css">

    <style>
        .wholecontainer
        {
            display: none;
        }
    </style>
</head>
<body>

   <center> <div class="loader">
        <script src="https://cdn.lordicon.com/lordicon.js"></script>
        <lord-icon
            src="https://cdn.lordicon.com/lqxfrxad.json"
            trigger="loop"
            state="loop-scale"
            style="width:250px;height:50px;">
        </lord-icon>Generating
    </div></center>
    
<div class="wholecontainer">

    <%- include('./partials/nav',{currentPage:'teacher'}) %>
    <% if(terminal && terminal2===undefined && terminal3===undefined){%>
    
    <center><h1 id="firstheading"><span style="color: #3307F8;">Class Performance </span><span id="firstspan">Summary</span></h1></center>
    <center><h3><span class="subheading">A system designed to analyze the performance of a student</span></h3></center><br>
<center><div class="subname" ><h6 style="color:#3307F8"><%= terminal %> Terminal Examination </h6>Subject:<%= subjectname %> <br>Class:<%=studentClass%> <br>Section:<%=section%></div></center><br><br>
<span class="max">Max No. of Wrong Question:&ensp;<b> <%= results[0].questionNo %>&ensp;(By:<%= results[0].wrong %>)</b><br></span>
<span class="total">Total Student : <b><%=totalStudent%></b><a href="/totalStudent/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=terminal %>"><button id="totalstudent">See Student<i class="fa-solid fa-user" style="color: #3307F8;"></i></a></button></span><br></span> <br>



<span class="wrong">Wrong Percentage : <b><%=results[0].wrong/totalStudent*100%>%</b><br></span><br>


<hr><br>
<center><div class="search">
    <form action="/search/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=terminal %>" method="POST">
     
    <input type="number" id="searchroll" value="roll" name="roll" placeholder="&#xF002; Search By Roll" style="font-family:Arial, FontAwesome" />
   <input type="submit" value="search" id="submit"/>
</form></center>
</div>
    <div class="analysiscontainer">
        <% if (results.length == 0) { %>
            <div class="subcol">
                <div id="math" class="subject"> <span class="spansubject" id="spanmath">No Data Available</span></div>
            </div> <%}%>
     

     
      <% results.forEach((result)=>
      { %>

      

        <div class="subcol">
            <div id="math" class="subject"> <center><div class="spansubject" id="spanmath"><%= result.questionNo %> </div></center> <br>
               
<span>No. of Wrong Answer: <%= result.wrong %> &ensp;<span><button id="wrongans"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/incorrect/<%=terminal %>">See Student</a><i class="fa-solid fa-user" style="color: #3307F8;"></i></button></span><br>
No. of Right Answer: <%= result.correct%> &ensp;&ensp;<span><button id="rightans"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/correct/<%=terminal %>">See Student&ensp;</a><i class="fa-solid fa-user" style="color: #3307F8;"></i></button></span><br>
Not Attempt:<%= result.notattempt %><span><button id="notattempt"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/notattempt/<%=terminal %>">See Student<i class="fa-solid fa-user" style="color: #3307F8;"></i></a></button></span><br> 
<span>Correct above 50%: <%= result.correctabove50 %> &ensp;<span><button id="correctabove50"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/correctabove50/<%=terminal %>">See Student</a><i class="fa-solid fa-user" style="color: #3307F8;"></i></button></span><br>
Correct below 50%: <%= result.correctbelow50 %> &ensp;<span><button id="correctbelow50"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/correctbelow50/<%=terminal %>">See Student</a><i class="fa-solid fa-user" style="color: #3307F8;"></i></button></span><br>
Wrong Percentage:<b><%=result.wrong/totalStudent*100%>%</b> <br>


</span> <br>

</div></div>
<%})%>
    </div>

    <%}

     else if(terminal && terminal2 &&terminal3===undefined){%>
        <center><h1 id="firstheading"><span style="color: #3307F8;">Class Performance </span><span id="firstspan">Summary</span></h1></center>
        <center><h3><span class="subheading">A system designed to analyze the performance of a student</span></h3></center><br>
    <center><div class="subname" ><h6 style="color:#3307F8"><%= terminal  %> & <%= terminal2  %>Terminal Examination </h6>Subject:<%= subjectname %> <br>Class:<%=studentClass%> <br>Section:<%=section%></div></center><br><br>
    <span class="max">Maximum Number of Wrong Question:&ensp;<b> <%= term[0].questionNo %>&ensp;&ensp;(By:<%= term[0].wrong %>)</b><br></span>
    <span class="total">Total Student : <b><%=totalStudent%></b><a href="/totalStudent/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=terminal %>"><button id="totalstudent">See Student<i class="fa-solid fa-user" style="color: #3307F8;"></i></a></button></span><br></span>
    <span class="wrong">Wrong Percentage : <b><%=term[0].wrong/totalStudent*100%>%</b><br></span><br>
  
    
    <hr><br>
    
        <div class="analysiscontainer">
            <% if (term.length == 0) { %>
                <div class="subcol">
                    <div id="math" class="subject"> <span class="spansubject" id="spanmath">No Data Available</span></div>
                </div> <%}%>
         
    
         
          <% term.forEach((result)=>
          { %>
    
          
    
            <div class="subcol">
                <div id="math" class="subject"> <span class="spansubject" id="spanmath"><%= result.questionNo %> </span> <br>
    <span>No. of Wrong Answer: <%= result.wrong %> &ensp;<span><button id="wrongans"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/incorrect/<%=terminal %>">See Student</a><i class="fa-solid fa-user" style="color: #3307F8;"></i></button></span><br>
    No. of Right Answer: <%= result.correct%> &ensp;&ensp;<span><button id="rightans"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/correct/<%=terminal %>">See Student&ensp;</a><i class="fa-solid fa-user" style="color: #3307F8;"></i></button></span><br>
    Not Attempt: <%= result.notattempt %><span><button id="notattempt"><a href="/studentData/<%=subjectname %>/<%=studentClass %>/<%=section %>/<%=result.questionNo%>/notattempt/<%=terminal %>">See Student<i class="fa-solid fa-user" style="color: #3307F8;"></i></a></button></span> Wrong Percentage:<b><%=result.wrong/totalStudent*100%>%</b> <br>
    
    
    </span> <br>
    
    </div></div>
    <%})%>
        </div>
    <%}
     else if(terminal && terminal2 &&terminal3){%>
        <p class="">I contain 1 2 3 code </p>
    <%}%> 



</div>
   <script src="https://kit.fontawesome.com/368eb67b69.js" crossorigin="anonymous"></script> 
    <script>
   window.onload = function(){
    document.querySelector('.loader').style.display = "none";
    document.querySelector('.wholecontainer').style.display = "block";
   }
   </script> 

</body>
</html>